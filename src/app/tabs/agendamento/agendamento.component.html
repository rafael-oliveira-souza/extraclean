<div class="custom">
    <mat-stepper linear #stepper>
        <!-- <mat-step [stepControl]="formCep" [editable]="isEditable">
            <form [formGroup]="formCep">
                <ng-template matStepLabel>Localização</ng-template>
                <div class="row justify-content-center">
                    <div class="quadro col-8 text-center">
                        <div>
                            <mat-form-field class="col-3">
                                <mat-label>Digite seu cep</mat-label>
                                <input mask="00000-000" maxlength="9" type="text" matInput formControlName="cep">
                                @if (formCep.invalid) {
                                <mat-error>Preencha todos os dígitos</mat-error>
                                }
                            </mat-form-field>
                            <button (click)="getCep(formCep.controls['cep'].value)" style="margin-left: 20px;"
                                [disabled]="formCep.controls['cep'].invalid" mat-button>Buscar</button>
                        </div>
                        <div *ngIf="exibeCep" class="mt-3 row justify-content-center">
                            <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-6  mt-2">
                                <mat-form-field class="col-12">
                                    <mat-label>Logradouro</mat-label>
                                    <input type="text" matInput formControlName="logradouro">
                                </mat-form-field>
                            </div>
                            <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-6  mt-2">
                                <mat-form-field class="col-12 ">
                                    <mat-label>Número</mat-label>
                                    <input type="text" matInput formControlName="numero">
                                </mat-form-field>
                            </div>
                            <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-6  mt-2">
                                <mat-form-field class="col-12 ">
                                    <mat-label>Complemento</mat-label>
                                    <input type="text" matInput formControlName="complemento">
                                </mat-form-field>
                            </div>

                            <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-6  mt-2">
                                <mat-form-field class="col-12">
                                    <mat-label>Bairro</mat-label>
                                    <input type="text" matInput formControlName="bairro">
                                </mat-form-field>
                            </div>
                            <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-6  mt-2">
                                <mat-form-field class="col-12 ">
                                    <mat-label>Localidade</mat-label>
                                    <input type="text" matInput formControlName="localidade">
                                </mat-form-field>
                            </div>
                            <div class="col-12 col-xl-4 col-lg-4 col-md-4 col-sm-6  mt-2">
                                <mat-form-field class="col-12 ">
                                    <mat-label>UF</mat-label>
                                    <input type="text" matInput formControlName="uf">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-4">
                    <button [disabled]="formCep.controls['numero'].invalid || !exibeCep" style="margin-left: 20px;"
                        mat-button matStepperNext>Próximo</button>
                </div>
            </form>
        </mat-step> -->
        <!-- 
             <mat-step [stepControl]="formArea" [editable]="isEditable">
            <form [formGroup]="formArea">
                <ng-template matStepLabel>Última limpeza</ng-template>
                <div class="mt-4 text-center">
                    <h5>Há quanto tempo foi realizada uma limpeza na sua casa? <small class="cor-laranja">*</small>
                    </h5>
                    <div class="d-flex justify-content-center">
                        <mat-button-toggle-group formControlName="valor" required>
                            <mat-button-toggle value="1">Menos de 7 dias</mat-button-toggle>
                            <mat-button-toggle value="2">Menos de 15 dias</mat-button-toggle>
                            <mat-button-toggle value="3">Menos de 30 dias</mat-button-toggle>
                            <mat-button-toggle value="4">Mais de 30 dias</mat-button-toggle>
                        </mat-button-toggle-group>
                    </div>
                </div>
                <div class="mt-4">
                    <button style="margin-left: 20px;" [disabled]="formArea.invalid" mat-button
                        matStepperNext>Próximo</button>
                </div>
            </form>
        </mat-step> -->
        <!-- <mat-step [stepControl]="formUltimaLimpeza" [editable]="isEditable">
            <form [formGroup]="formUltimaLimpeza">
                <ng-template matStepLabel>Área</ng-template>
                <div class="mt-4 text-center">
                    <h5>Qual a metragem da área a ser limpa? <small class="cor-laranja">*</small> </h5>
                    <div class="d-flex justify-content-center">
                        <mat-button-toggle-group formControlName="valor" required>
                            <mat-button-toggle value="1">Até 50 m²</mat-button-toggle>
                            <mat-button-toggle value="2">Até 80 m²</mat-button-toggle>
                            <mat-button-toggle value="3">Até 120 m²</mat-button-toggle>
                            <mat-button-toggle value="4">Até 150 m²</mat-button-toggle>
                            <mat-button-toggle value="5">Mais de 150 m²</mat-button-toggle>
                        </mat-button-toggle-group>
                    </div>
                </div>
                <div class="mt-4">
                    <button mat-button matStepperPrevious>Voltar</button>
                    <button style="margin-left: 20px;" [disabled]="formUltimaLimpeza.invalid" mat-button
                        matStepperNext>Próximo</button>
                </div>
            </form>
        </mat-step> -->
        <!-- <mat-step [stepControl]="formComodos" [editable]="isEditable">
            <form [formGroup]="formComodos">
                <ng-template matStepLabel>Cômodos</ng-template>
                <div class="mt-4 text-center">
                    <h5>Quantos cômodos existem no local? <small class="cor-laranja">*</small> </h5>
                    <div class="row justify-content-center">
                        <div class="col-12 col-xl-2 col-lg-2 col-md-4 col-sm-3  p-2">
                            <app-numeros label="Cozinhas" [required]="true" [min]="0"
                                [formController]="formComodos.controls['cozinha']"></app-numeros>
                        </div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-4 col-sm-3  p-2">
                            <app-numeros label="Quartos" [required]="true" [min]="1"
                                [formController]="formComodos.controls['quarto']"></app-numeros>
                        </div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-4 col-sm-4  p-2">
                            <app-numeros label="Salas" [required]="true" [min]="1"
                                [formController]="formComodos.controls['sala']"></app-numeros>
                        </div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-4 col-sm-3  p-2">
                            <app-numeros label="Banheiros" [required]="true" [min]="1"
                                [formController]="formComodos.controls['banheiro']"></app-numeros>
                        </div>
                        <div class="col-12 col-xl-2 col-lg-2 col-md-4 col-sm-3  p-2">
                            <app-numeros label="Área de Serviço" [min]="0"
                                [formController]="formComodos.controls['areaServico']"></app-numeros>
                        </div>
                    </div>
                </div>
                <div class="mt-4">
                    <button mat-button matStepperPrevious>Voltar</button>
                    <button style="margin-left: 20px;" [disabled]="formComodos.invalid" mat-button
                        matStepperNext>Próximo</button>
                </div>
            </form>
        </mat-step> -->
        <!--  -->
        <!-- <mat-step [stepControl]="formPets" [editable]="isEditable">
            <form [formGroup]="formPets">
                <ng-template matStepLabel>Pets</ng-template>
                <div class="mt-4 text-center">
                    <h5>Possui algum pet? <small class="cor-laranja">*</small> </h5>
                    <div class="d-flex justify-content-center">
                        <mat-button-toggle-group formControlName="valor" required>
                            <mat-button-toggle value="1">Não possuo</mat-button-toggle>
                            <mat-button-toggle value="2">Cachorro</mat-button-toggle>
                            <mat-button-toggle value="3">Gato</mat-button-toggle>
                            <mat-button-toggle value="4">Outros</mat-button-toggle>
                        </mat-button-toggle-group>
                    </div>
                </div>
                <div class="mt-4">
                    <button mat-button matStepperPrevious>Voltar</button>
                    <button style="margin-left: 20px;" [disabled]="formPets.invalid" mat-button
                        matStepperNext>Próximo</button>
                </div>
            </form>
        </mat-step> -->
        <mat-step [stepControl]="formTipoLimpeza" [editable]="isEditable">
            <form [formGroup]="formTipoLimpeza">
                <ng-template matStepLabel>Tipo de Limpeza</ng-template>
                <div class="mt-4 ">
                    <div class="d-flex justify-content-center text-center">
                        <mat-button-toggle-group formControlName="valor" required>
                            <mat-button-toggle value="1">Expressa</mat-button-toggle>
                            <mat-button-toggle value="2">Detalhada</mat-button-toggle>
                        </mat-button-toggle-group>
                    </div>
                    <div class="d-flex justify-content-center">
                        <div class="col-6 cor-laranja mt-3">
                            <small *ngIf="isLimpezaDetalhada()">
                                <div class="">
                                    <p>A <strong>limpeza detalhada</strong> é um processo mais minucioso que se
                                        concentra em
                                        cada aspecto do ambiente, incluindo áreas menos visíveis e frequentemente
                                        negligenciadas. O objetivo é uma limpeza completa e profunda que garante a
                                        remoção
                                        de sujeira, poeira e manchas em todos os cantos e superfícies.</p>
                                    <ul>
                                        <li><strong>Profundidade:</strong> Abrange uma limpeza completa e minuciosa.
                                        </li>
                                        <li><strong>Atenção aos Detalhes:</strong> Foca em áreas difíceis de alcançar,
                                            limpeza de manchas, desinfecção e polimento.</li>
                                        <li><strong>Áreas Abrangidas:</strong> Inclui todas as superfícies, cantos,
                                            rodapés,
                                            armários, eletrodomésticos, e áreas de difícil acesso.</li>
                                        <li><strong>Produtos Utilizados:</strong> Produtos especializados e técnicas de
                                            limpeza que garantem a remoção completa de sujeira e sujeira acumulada.</li>
                                    </ul>
                                    <p><strong>Exemplos de Tarefas:</strong></p>
                                    <ul>
                                        <li>Limpeza profunda de pisos, incluindo a remoção de manchas e polimento.</li>
                                        <li>Limpeza de janelas e persianas.</li>
                                        <li>Desinfecção de superfícies de cozinha e banheiros.</li>
                                        <li>Limpeza e organização de armários e gavetas.</li>
                                        <li>Remoção de poeira acumulada em móveis e equipamentos.</li>
                                    </ul>
                                </div>
                            </small>
                            <small *ngIf="isLimpezaExpressa()">
                                <div class="">
                                    <p>A <strong>limpeza expressa</strong> é um tipo de limpeza rápida e superficial que
                                        foca em áreas de alto tráfego e pontos críticos que precisam de atenção
                                        imediata. O
                                        objetivo principal é remover sujeira e manter uma aparência geral limpa sem
                                        entrar
                                        em muitos detalhes. É ideal para situações onde o tempo é limitado e uma limpeza
                                        completa não é viável.</p>
                                    <ul>
                                        <li><strong>Rapidez:</strong> Concluída em um curto período de tempo.</li>
                                        <li><strong>Superficialidade:</strong> Foca em limpar as áreas visíveis e mais
                                            sujas.</li>
                                        <li><strong>Áreas Focadas:</strong> Geralmente inclui áreas como bancadas,
                                            pisos, e
                                            o banheiro, mas não entra em detalhes menores como baseboards ou espaços
                                            difíceis de alcançar.</li>
                                        <li><strong>Produtos Utilizados:</strong> Produtos de limpeza genéricos e
                                            eficazes
                                            para áreas de uso comum.</li>
                                    </ul>
                                    <p><strong>Exemplos de Tarefas:</strong></p>
                                    <ul>
                                        <li>Limpeza rápida de superfícies de cozinha.</li>
                                        <li>Esvaziamento de lixeiras.</li>
                                        <li>Limpeza de pisos com um mop ou aspirador.</li>
                                        <li>Limpeza básica de banheiros.</li>
                                    </ul>
                                </div>
                            </small>
                        </div>
                    </div>
                </div>
                <div class="mt-4">
                    <button mat-button matStepperPrevious>Voltar</button>
                    <button style="margin-left: 20px;" [disabled]="formTipoLimpeza.invalid" mat-button
                        matStepperNext>Próximo</button>
                </div>
            </form>
        </mat-step>
        <mat-step [stepControl]="formArea" [editable]="isEditable">
            <form [formGroup]="formArea">
                <ng-template matStepLabel>Metragem</ng-template>
                <div class="row justify-content-center">
                    <div class="quadro col-8 text-center">
                        <mat-form-field class="col-4">
                            <mat-label>Metragem da sua residência?</mat-label>
                            <input maxlength="4" mask="separator" decimalMarker="," thousandSeparator="." type="text"
                                matInput formControlName="valor">
                            <!-- <span matTextPrefix>R$&nbsp;</span> -->
                            <span matTextSuffix>m²</span>
                            @if (formArea.invalid) {
                            <mat-error>O valor precisa estar entre {{metragemMin}} e {{metragemMax}} m².</mat-error>
                            }
                        </mat-form-field>
                    </div>
                </div>
                <div class="mt-4">
                    <button mat-button matStepperPrevious>Voltar</button>
                    <button [disabled]="formArea.controls['valor'].invalid " style="margin-left: 20px;" mat-button
                        matStepperNext>Próximo</button>
                </div>
            </form>
        </mat-step>
        <mat-step>
            <div class="mt-4 text-center">
                <ng-template matStepLabel>Agendamento</ng-template>
                <div id="calendarioIdAgd390">
                    <app-calendario [valorMetro]="valorMetro" [profissionais]="profissionais"
                        [metragem]="formArea.controls['valor'].value" [isDetalhada]="isLimpezaDetalhada()"
                        (getDiasAgendados)="getDiasAgendados($event)"></app-calendario>
                    <div class="d-flex justify-content-end">
                        <button [disabled]="desabilitarAgendamento()" (click)="agendar()"
                            mat-flat-button>Agendar</button>
                    </div>
                </div>
            </div>
            <div style="margin-top: -40px;">
                <button mat-button matStepperPrevious>Voltar</button>
                <!-- <button style="margin-left: 20px;" mat-button (click)="resetar(stepper)">Limpar</button> -->
            </div>
        </mat-step>
    </mat-stepper>
</div>